# Template used to create this container: /usr/share/lxc/templates/lxc-download
# Parameters passed to the template: -d debian -a arm64 -r bookworm
# For additional config options, please look at lxc.container.conf(5)

# Uncomment the following line to support nesting containers:
#lxc.include = /usr/share/lxc/config/nesting.conf
# (Be aware this has security implications)


# Distribution configuration
lxc.include = /usr/share/lxc/config/common.conf
lxc.arch = linux64
lxc.start.auto = 1

# Container specific configuration
lxc.apparmor.profile = generated
lxc.apparmor.allow_nesting = 1
lxc.rootfs.path = dir:${CONTAINERVPNROOTFS}
lxc.uts.name = nordvpn

# Network configuration
#
#   Input Local side (lxc bridge)
#
lxc.net.0.type = veth
lxc.net.0.link = lxcbr0
lxc.net.0.flags = up
lxc.net.0.ipv4.address = ${VPN_IP}/24
lxc.net.0.ipv4.gateway = ${LXC_GATEWAY}

#
#   Wan side with vpn
#
lxc.net.1.type = ${WAN_DRIVER}
lxc.net.1.macvlan.mode = bridge
lxc.net.1.link = ${WAN_PARENT}
lxc.net.1.name = eth1
lxc.net.1.flags = up
